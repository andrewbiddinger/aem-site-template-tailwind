/* XF Header style, used on page template */
#utility-header {
  @apply bg-black flex justify-end;
}

#utility-header-login {
  @apply border-none bg-transparent text-background;
}

#utility-header-language {
  @apply text-background;

  .cmp-languagenavigation__button {
    @apply border-none;
  }
}


.cmp-navigation-__group {
  @apply text-foreground;
  @apply flex justify-end content-center;
}


#main-header-wrapper {

  @screen phone {
    & > .aem-Grid {
      @apply px-0;
    }
  }

  /*
   * Fixes mobile webkit issue with 100vh and the browser bar
   * covering the language navigation dropdown
  */
  &.open {
    @apply fixed inset-0 mb-0;

    & > .aem-Grid {
      @apply h-full;
    }
  }
}

#main-header {
  @apply p-0 my-8;
  @apply h-20 flex items-end bg-background content-center;

  .cmp-image {
    @apply flex h-full items-center justify-center;
    @apply dark:hue-rotate-180;
  }

  & > .aem-Grid {
    @apply default:items-center;
  }
}

@screen phone {
  #main-header {
    @apply py-0;

    > .aem-Grid {
      @apply h-full justify-start gap-y-0 px-0;
      grid-template-rows: 5rem 1fr;
    }

    &.open {
      @apply h-full;

      #mobile-header {
        @apply visible translate-y-0 opacity-100;
      }

      .button .cmp-button {
        background-image: url("../../resources/images/x-icon.png");
      }
    }

    .button {
      @apply w-8 h-20 self-center mx-4 flex items-center z-10;

      .cmp-button {
        @apply bg-transparent rounded bg-no-repeat border-0 h-8 w-8 bg-center;
        background-image: url("../../resources/images/hamburger-menu.png");
      }
    }

    .image {
      @apply absolute inset-0 ml-0 h-20;

      .cmp-image__image {
        @apply max-h-12;
      }
    }
  }

  #mobile-header {
    @apply h-full p-4 border-t-2 border-shade-1 delay-75 opacity-0 translate-y-2 bg-background;
    transition: transform 250ms, opacity 100ms, visibility 50ms;
    visibility: collapse;

    & > .aem-Grid {
      @apply h-full justify-start items-start;
      grid-template-rows: auto auto 1fr;
    }

    .navigation {
      @apply order-2;

      .cmp-navigation {
        @apply py-2;

        > .cmp-navigation__group {
          @apply flex-col gap-y-4;
        }
      }
    }

    .search {
      @apply order-1;
    }

    .languagenavigation {
      @apply order-3 self-end;
    }
  }
}

.aem-AuthorLayer-Preview.aem-Author--hidePlaceholder,
.aem-AuthorLayer-Edit {
  #main-header {
    @apply h-auto min-h-[5rem];
  }
}

@screen phone {
  .aem-AuthorLayer-Preview.aem-Author--hidePlaceholder,
  .aem-AuthorLayer-Edit {
    #main-header {
      &.open {
        @apply h-full;

        #mobile-header {
          @apply block;
        }
      }
    }

    #mobile-header {
      @apply hidden;
    }
  }
}
